import{d as ae,e as c,p as H,c as oe,a as e,f as s,w as t,i as R,g as a,m as g,u as ue,o as q,k as u,V as r,b as Q,l as A,r as M,t as i,j as G,_ as se}from"./index-BCXkcNoo.js";import{_ as re}from"./MyDatePicker-Bhz20UWl.js";import{r as v}from"./validator-CVhvxwIX.js";import{V as S}from"./VCard-CJ3t3ZEl.js";import{V as L}from"./VDialog-yf5pyQHo.js";import{V as ne,a as E,b as D,c as P}from"./VCardText-BEYfI6V1.js";import{V}from"./VTextField-Dkx9KPwU.js";import{V as ie,a as U,b as pe,c as T}from"./VTabs-AYuEq_q2.js";import{V as $,a as ce}from"./VDataTable-D_4U8cp9.js";import"./VSpacer-DiwphqA6.js";import"./VGrid-Dcmurj4t.js";import"./VImg-XuFL4q6t.js";import"./forwardRefs-BpjxVdNq.js";import"./VMenu-CEjcWp_V.js";import"./VDivider-CoLL375C.js";import"./VOverlay-uA0yxJrw.js";import"./VCheckboxBtn-Bhd-wnJi.js";const me={class:"text-button"},fe={class:"text-button"},Ne={class:"text-button"},De={class:"text-button"},ge={class:"self-align-end d-flex gap-4 justify-end"},ve={class:"self-align-end d-flex gap-4 justify-end"},Ve={class:"d-flex justify-center gap-4"},Ie={class:"dock-div"},he=ae({__name:"order",setup(xe){const C=ue(),x=c("1"),I=c("");c(null),c(null);const K=o=>{if(o==="confirmed")return"info";if(o==="completed")return"success";if(o==="declined")return"error";if(o==="pending")return"warning"},W=o=>{if(o==="confirmed")return"Đang giao";if(o==="completed")return"Đã hoàn thành";if(o==="declined")return"Đã hủy";if(o==="pending")return"Đợi duyệt"},N=c([{id:"ORD001",productName:"Táo",productId:"PRD001",supplierName:"Nhà cung cấp 1",supplierId:"SUP001",orderDate:new Date("2023-01-15"),address:"Hà Nội",status:"pending"},{id:"ORD002",productName:"Cam",productId:"PRD002",supplierName:"Nhà cung cấp 2",supplierId:"SUP002",orderDate:new Date("2023-02-10"),address:"Hồ Chí Minh",status:"completed"},{id:"ORD003",productName:"Chuối",productId:"PRD003",supplierName:"Nhà cung cấp 3",supplierId:"SUP003",orderDate:new Date("2023-03-05"),address:"Đà Nẵng",status:"confirmed"},{id:"ORD004",productName:"Xoài",productId:"PRD004",supplierName:"Nhà cung cấp 4",supplierId:"SUP004",orderDate:new Date("2023-04-20"),address:"Hải Phòng",status:"declined"},{id:"ORD005",productName:"Dưa hấu",productId:"PRD005",supplierName:"Nhà cung cấp 5",supplierId:"SUP005",orderDate:new Date("2023-05-15"),address:"Cần Thơ",status:"pending"},{id:"ORD006",productName:"Ổi",productId:"PRD006",supplierName:"Nhà cung cấp 6",supplierId:"SUP006",orderDate:new Date("2023-06-10"),address:"Nha Trang",status:"completed"},{id:"ORD007",productName:"Mận",productId:"PRD007",supplierName:"Nhà cung cấp 7",supplierId:"SUP007",orderDate:new Date("2023-07-05"),address:"Vũng Tàu",status:"confirmed"},{id:"ORD008",productName:"Dứa",productId:"PRD008",supplierName:"Nhà cung cấp 8",supplierId:"SUP008",orderDate:new Date("2023-08-01"),address:"Quảng Ninh",status:"pending"},{id:"ORD009",productName:"Nho",productId:"PRD009",supplierName:"Nhà cung cấp 9",supplierId:"SUP009",orderDate:new Date("2023-09-15"),address:"Huế",status:"completed"},{id:"ORD010",productName:"Bưởi",productId:"PRD010",supplierName:"Nhà cung cấp 10",supplierId:"SUP010",orderDate:new Date("2023-10-10"),address:"Bình Dương",status:"declined"},{id:"ORD011",productName:"Chanh",productId:"PRD011",supplierName:"Nhà cung cấp 1",supplierId:"SUP001",orderDate:new Date("2023-11-01"),address:"Thanh Hóa",status:"pending"},{id:"ORD012",productName:"Quýt",productId:"PRD012",supplierName:"Nhà cung cấp 2",supplierId:"SUP002",orderDate:new Date("2023-12-05"),address:"Nghệ An",status:"completed"},{id:"ORD013",productName:"Dâu tây",productId:"PRD013",supplierName:"Nhà cung cấp 3",supplierId:"SUP003",orderDate:new Date("2024-01-10"),address:"Thái Nguyên",status:"confirmed"},{id:"ORD014",productName:"Kiwi",productId:"PRD014",supplierName:"Nhà cung cấp 4",supplierId:"SUP004",orderDate:new Date("2024-02-15"),address:"Hậu Giang",status:"pending"},{id:"ORD015",productName:"Lựu",productId:"PRD015",supplierName:"Nhà cung cấp 5",supplierId:"SUP005",orderDate:new Date("2024-03-20"),address:"Đồng Nai",status:"completed"},{id:"ORD016",productName:"Đào",productId:"PRD016",supplierName:"Nhà cung cấp 6",supplierId:"SUP006",orderDate:new Date("2024-04-25"),address:"Long An",status:"confirmed"},{id:"ORD017",productName:"Mít",productId:"PRD017",supplierName:"Nhà cung cấp 7",supplierId:"SUP007",orderDate:new Date("2024-05-30"),address:"Tiền Giang",status:"declined"},{id:"ORD018",productName:"Na",productId:"PRD018",supplierName:"Nhà cung cấp 8",supplierId:"SUP008",orderDate:new Date("2024-06-05"),address:"Bến Tre",status:"pending"},{id:"ORD019",productName:"Sầu riêng",productId:"PRD019",supplierName:"Nhà cung cấp 9",supplierId:"SUP009",orderDate:new Date("2024-07-10"),address:"Phú Thọ",status:"completed"},{id:"ORD020",productName:"Me",productId:"PRD020",supplierName:"Nhà cung cấp 10",supplierId:"SUP010",orderDate:new Date("2024-08-15"),address:"Quảng Nam",status:"confirmed"}]),X=[{title:"Sản phẩm",key:"productName"},{title:"Nhà cung cấp",key:"supplierName"},{title:"Ngày đặt",key:"orderDate"},{title:"Địa chỉ",key:"address"},{title:"Số lượng",key:"quantity"},{title:"Trạng thái",key:"status"},{title:"Chi tiết",key:"action",sortable:!1}],O=[{title:"Sản phẩm",key:"productName"},{title:"Nhà cung cấp",key:"supplierName"},{title:"Ngày đặt",key:"orderDate"},{title:"Địa chỉ",key:"address"},{title:"Số lượng",key:"quantity"},{title:"Chi tiết",key:"action",sortable:!1}],_=o=>{if(!o)return"Không có dữ liệu";const d=new Date(o);if(isNaN(d.getTime()))return"Ngày không hợp lệ";const m=d.getHours(),f=d.getDate(),w=d.getMonth()+1,l=d.getFullYear();return`${m}h ngày ${f}/${w}/${l}`},z=H(()=>N.value.filter(o=>o.status==="pending")),Y=H(()=>N.value.filter(o=>o.status==="confirmed")),J=H(()=>N.value.filter(o=>o.status==="completed")),b=c(!1),k=c(!1),y=c(!1),p=c(),B=c(""),n=c(),j=o=>{p.value={...o},b.value=!0,console.log(p.value)},F=o=>{B.value=o,k.value=!0},Z=()=>{console.log("...."),n.value={id:"",productName:"",productId:"",supplierName:"Nhà cung cấp 10",supplierId:"SUP010",orderDate:new Date,address:"",quantity:0,status:"pending"},y.value=!0},ee=()=>{n.value.id=Math.random().toString(36).substr(2,9),N.value.unshift(n.value),y.value=!1},te=()=>{b.value=!1},le=()=>{const o=N.value.findIndex(d=>d.id===p.value.id);console.log(p.value),o!==-1&&(N.value[o]={...p.value}),b.value=!1},de=()=>{const o=N.value.findIndex(d=>d.id===B.value);o!==-1&&N.value.splice(o,1),B.value="",k.value=!1};return(o,d)=>{const m=M("RouterLink"),f=M("IconBtn"),w=M("VFrom");return q(),oe("div",null,[e(S,null,{default:t(()=>[e(ne,{class:"text-primary"},{default:t(()=>[e(r,{icon:"bx-receipt"}),d[19]||(d[19]=u(" Danh sách đơn hàng ")),e(E,{style:{direction:"ltr"},class:"mt-6"},{default:t(()=>[e(D,{cols:"12","offset-md":"0",md:"4"},{default:t(()=>[e(V,{modelValue:a(I),"onUpdate:modelValue":d[0]||(d[0]=l=>R(I)?I.value=l:null),placeholder:"Search ...","append-inner-icon":"bx-search","single-line":"","hide-details":"",dense:"",outlined:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(ie,{modelValue:a(x),"onUpdate:modelValue":d[1]||(d[1]=l=>R(x)?x.value=l:null),class:"mt-6"},{default:t(()=>[e(U,{value:"1"},{default:t(()=>d[20]||(d[20]=[s("div",{class:"d-flex align-center"},[s("span",null,"Tất cả")],-1)])),_:1}),e(U,{value:"2"},{default:t(()=>d[21]||(d[21]=[s("div",{class:"d-flex align-center text-success"},[s("span",null,"Đã hoàn thành")],-1)])),_:1}),e(U,{value:"3"},{default:t(()=>d[22]||(d[22]=[s("div",{class:"d-flex align-center text-info"},[s("span",null,"Đang giao")],-1)])),_:1}),e(U,{value:"4"},{default:t(()=>d[23]||(d[23]=[s("div",{class:"d-flex align-center text-warning"},[s("span",null,"Đợi duyệt")],-1)])),_:1})]),_:1},8,["modelValue"]),e(P,null,{default:t(()=>[e(pe,{modelValue:a(x),"onUpdate:modelValue":d[2]||(d[2]=l=>R(x)?x.value=l:null)},{default:t(()=>[e(T,{value:"1"},{default:t(()=>[e($,{items:a(N),headers:X,class:"text-button","items-per-page":20,search:a(I)},{"item.productName":t(({item:l})=>[e(m,{to:`product-info/${l.productId}`},{default:t(()=>[u(i(l.productName),1)]),_:2},1032,["to"])]),"item.supplierName":t(({item:l})=>[e(m,{to:`product-info/${l.supplierId}`},{default:t(()=>[u(i(l.supplierName),1)]),_:2},1032,["to"])]),"item.orderDate":t(({item:l})=>[s("div",me,i(_(l.orderDate)),1)]),"item.status":t(({item:l})=>[e(ce,{color:K(l.status),size:"small",class:"font-weight-medium"},{default:t(()=>[u(i(W(l.status)),1)]),_:2},1032,["color"])]),"item.action":t(({item:l})=>[e(f,{onClick:h=>a(C).push(`order-info/${l.id}`)},{default:t(()=>[e(r,{icon:"bx-info-circle"})]),_:2},1032,["onClick"]),l.status==="pending"?(q(),Q(f,{key:0,onClick:h=>j(l)},{default:t(()=>[e(r,{icon:"bx-edit",color:"success"})]),_:2},1032,["onClick"])):A("",!0),l.status==="pending"?(q(),Q(f,{key:1,onClick:h=>F(l.id)},{default:t(()=>[e(r,{color:"error",icon:"bx-trash"})]),_:2},1032,["onClick"])):A("",!0)]),_:1},8,["items","search"])]),_:1}),e(T,{value:"2"},{default:t(()=>[e($,{items:a(J),headers:O,class:"text-button","items-per-page":20,search:a(I)},{"item.productName":t(({item:l})=>[e(m,{to:`product-info/${l.productId}`},{default:t(()=>[u(i(l.productName),1)]),_:2},1032,["to"])]),"item.supplierName":t(({item:l})=>[e(m,{to:`product-info/${l.supplierId}`},{default:t(()=>[u(i(l.supplierName),1)]),_:2},1032,["to"])]),"item.orderDate":t(({item:l})=>[s("div",fe,i(_(l.orderDate)),1)]),"item.action":t(({item:l})=>[e(f,{onClick:h=>a(C).push(`order-info/${l.id}`)},{default:t(()=>[e(r,{icon:"bx-info-circle"})]),_:2},1032,["onClick"])]),_:1},8,["items","search"])]),_:1}),e(T,{value:"3"},{default:t(()=>[e($,{items:a(Y),headers:O,class:"text-button","items-per-page":20,search:a(I)},{"item.productName":t(({item:l})=>[e(m,{to:`product-info/${l.productId}`},{default:t(()=>[u(i(l.productName),1)]),_:2},1032,["to"])]),"item.supplierName":t(({item:l})=>[e(m,{to:`product-info/${l.supplierId}`},{default:t(()=>[u(i(l.supplierName),1)]),_:2},1032,["to"])]),"item.orderDate":t(({item:l})=>[s("div",Ne,i(_(l.orderDate)),1)]),"item.action":t(({item:l})=>[e(f,{onClick:h=>a(C).push(`order-info/${l.id}`)},{default:t(()=>[e(r,{icon:"bx-info-circle"})]),_:2},1032,["onClick"])]),_:1},8,["items","search"])]),_:1}),e(T,{value:"4"},{default:t(()=>[e($,{items:a(z),headers:O,class:"text-button","items-per-page":20,search:a(I)},{"item.productName":t(({item:l})=>[e(m,{to:`product-info/${l.productId}`},{default:t(()=>[u(i(l.productName),1)]),_:2},1032,["to"])]),"item.supplierName":t(({item:l})=>[e(m,{to:`product-info/${l.supplierId}`},{default:t(()=>[u(i(l.supplierName),1)]),_:2},1032,["to"])]),"item.orderDate":t(({item:l})=>[s("div",De,i(_(l.orderDate)),1)]),"item.action":t(({item:l})=>[e(f,{onClick:h=>a(C).push(`order-info/${l.id}`)},{default:t(()=>[e(r,{icon:"bx-info-circle"})]),_:2},1032,["onClick"]),e(f,{onClick:h=>j(l)},{default:t(()=>[e(r,{icon:"bx-edit",color:"success"})]),_:2},1032,["onClick"]),e(f,{onClick:h=>F(l.id)},{default:t(()=>[e(r,{color:"error",icon:"bx-trash"})]),_:2},1032,["onClick"])]),_:1},8,["items","search"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(L,{modelValue:a(b),"onUpdate:modelValue":d[7]||(d[7]=l=>R(b)?b.value=l:null),"max-width":"600px"},{default:t(()=>[e(S,{title:`Sửa thông tin đơn hàng ${a(p).id}`},{default:t(()=>[e(P,null,{default:t(()=>[e(w,{onSubmit:d[6]||(d[6]=G(()=>{},["prevent"]))},{default:t(()=>[e(E,null,{default:t(()=>[e(D,{cols:"12",sm:"6"},{default:t(()=>[e(V,{modelValue:a(p).productName,"onUpdate:modelValue":d[3]||(d[3]=l=>a(p).productName=l),label:"Tên sản phẩm",rules:[a(v)],readonly:"",disable:""},null,8,["modelValue","rules"])]),_:1}),e(D,{cols:"12",sm:"6"},{default:t(()=>[e(V,{modelValue:a(p).supplierName,"onUpdate:modelValue":d[4]||(d[4]=l=>a(p).supplierName=l),label:"Nhà cung cấp",rules:[a(v)],readonly:"",disable:""},null,8,["modelValue","rules"])]),_:1}),e(D,{cols:"12",sm:"12"},{default:t(()=>[e(V,{modelValue:a(p).address,"onUpdate:modelValue":d[5]||(d[5]=l=>a(p).address=l),label:"Địa chỉ",rules:[a(v)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})]),_:1}),e(P,null,{default:t(()=>[s("div",ge,[e(g,{color:"gray",variant:"outlined",onClick:te},{default:t(()=>[e(r,{icon:"bx-x"}),d[24]||(d[24]=u(" | Hủy bỏ "))]),_:1}),e(g,{color:"success",variant:"elevated",onClick:le},{default:t(()=>[e(r,{icon:"bx-save"}),d[25]||(d[25]=u("| Lưu lại "))]),_:1})])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"]),e(L,{modelValue:a(y),"onUpdate:modelValue":d[15]||(d[15]=l=>R(y)?y.value=l:null),"max-width":"600px"},{default:t(()=>[e(S,{title:"Edit Item"},{default:t(()=>[e(P,null,{default:t(()=>[e(w,{onSubmit:d[13]||(d[13]=G(()=>{},["prevent"]))},{default:t(()=>[e(E,null,{default:t(()=>[e(D,{cols:"12",sm:"6"},{default:t(()=>[e(V,{modelValue:a(n).productName,"onUpdate:modelValue":d[8]||(d[8]=l=>a(n).productName=l),label:"Tên sản phẩm",rules:[a(v)]},null,8,["modelValue","rules"])]),_:1}),e(D,{cols:"12",sm:"6"},{default:t(()=>[e(V,{modelValue:a(n).supplierName,"onUpdate:modelValue":d[9]||(d[9]=l=>a(n).supplierName=l),label:"Tên sản phẩm",rules:[a(v)]},null,8,["modelValue","rules"])]),_:1}),e(D,{cols:"12",sm:"6"},{default:t(()=>[e(V,{modelValue:a(n).address,"onUpdate:modelValue":d[10]||(d[10]=l=>a(n).address=l),label:"Địa chỉ",rules:[a(v)]},null,8,["modelValue","rules"])]),_:1}),e(D,{cols:"12",sm:"6"},{default:t(()=>[e(V,{modelValue:a(n).quantity,"onUpdate:modelValue":d[11]||(d[11]=l=>a(n).quantity=l),label:"Số lượng",rules:[a(v)]},null,8,["modelValue","rules"])]),_:1}),e(D,{cols:"12",sm:"6"},{default:t(()=>[e(re,{modelValue:a(n).orderDate,"onUpdate:modelValue":d[12]||(d[12]=l=>a(n).orderDate=l),label:"Số lượng",rules:[a(v)]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})]),_:1}),e(P,null,{default:t(()=>[s("div",ve,[e(g,{color:"gray",variant:"outlined",onClick:d[14]||(d[14]=()=>y.value=!1)},{default:t(()=>[e(r,{icon:"bx-x"}),d[26]||(d[26]=u(" | Hủy bỏ "))]),_:1}),e(g,{color:"success",variant:"elevated",onClick:ee},{default:t(()=>[e(r,{icon:"bx-save"}),d[27]||(d[27]=u("| Thêm mới "))]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(L,{modelValue:a(k),"onUpdate:modelValue":d[17]||(d[17]=l=>R(k)?k.value=l:null),"max-width":"500px"},{default:t(()=>[e(S,{title:"Bạn có muốn hủy đơn hàng này không?"},{default:t(()=>[e(P,null,{default:t(()=>[s("div",Ve,[e(g,{variant:"outlined",color:"secondary",onClick:d[16]||(d[16]=()=>k.value=!1)},{default:t(()=>d[28]||(d[28]=[u(" Bỏ qua ")])),_:1}),e(g,{color:"error",variant:"outlined",onClick:de},{default:t(()=>d[29]||(d[29]=[u(" Xác nhận hủy ")])),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),s("div",Ie,[e(g,{class:"dock-button",color:"success",onClick:d[18]||(d[18]=()=>{})},{default:t(()=>[e(r,{icon:"bx-upload",class:"me-2"}),d[30]||(d[30]=u(" | Upload file csv "))]),_:1}),e(g,{onClick:Z,class:"dock-button ms-2"},{default:t(()=>[e(r,{icon:"bxs-file-plus",class:"me-2"}),d[31]||(d[31]=u(" | Đơn mới "))]),_:1})])])}}}),Le=se(he,[["__scopeId","data-v-efd109c8"]]);export{Le as default};
