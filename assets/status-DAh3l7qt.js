import{_ as D}from"./MyDatePicker-Bhz20UWl.js";import{d as N,c as v,V as S,a as q,b as g}from"./VCardText-BEYfI6V1.js";import{V as P,a as F}from"./VDataTable-D_4U8cp9.js";import{V as U}from"./VDialog-yf5pyQHo.js";import{V as E}from"./VTextField-Dkx9KPwU.js";import{d as A,e as d,p as L,c as G,a as t,f as y,w as l,g as o,i as m,F as H,o as w,k as p,b as M,l as O,V as R,r as Y,t as h,m as x}from"./index-BCXkcNoo.js";import{V as $}from"./VCard-CJ3t3ZEl.js";import"./VSpacer-DiwphqA6.js";import"./VGrid-Dcmurj4t.js";import"./VImg-XuFL4q6t.js";import"./forwardRefs-BpjxVdNq.js";import"./VMenu-CEjcWp_V.js";import"./VDivider-CoLL375C.js";import"./VOverlay-uA0yxJrw.js";import"./VCheckboxBtn-Bhd-wnJi.js";const j={class:"mi-1"},z={class:"d-flex justify-center gap-4"},ce=A({__name:"status",setup(X){const c=d(""),r=d(!1),i=d(null),s=d(null),u=d([{id:"1",name:"Product A",quantity:2,status:"confirmed",price:"100.00",createdDate:new Date("2025-03-20T14:30:00")},{id:"2",name:"Product B",quantity:1,status:"pending",price:"50.00",createdDate:new Date("2025-03-21T09:15:00")},{id:"6",name:"Product B",quantity:1,status:"pending",price:"70.00",createdDate:new Date("2025-02-21T09:15:00")},{id:"3",name:"Product C",quantity:5,status:"completed",price:"250.00",createdDate:new Date("2025-03-22T16:45:00")},{id:"4",name:"Product D",quantity:3,status:"declined",price:"75.00",createdDate:new Date("2025-03-23T11:00:00")},{id:"5",name:"Product A",quantity:2,status:"confirmed",price:"100.00",createdDate:new Date("2025-03-20T14:30:00")}]),T=L(()=>!i.value&&!s.value?u.value:u.value.filter(n=>{const e=new Date(n.createdDate).getTime(),V=i.value?new Date(i.value).getTime():Number.NEGATIVE_INFINITY,a=s.value?new Date(s.value).getTime():Number.POSITIVE_INFINITY;return e>=V&&e<=a})),_=[{title:"Sản phẩm",key:"name"},{title:"Số lượng",key:"quantity"},{title:"Ngày đặt",key:"createdDate"},{title:"Giá",key:"price"},{title:"Trạng thái",key:"status"},{title:"Hủy",key:"delete",sortable:!1}],k=new Map([["pending","Đang chờ xử lý"],["confirmed","Đã xác nhận"],["completed","Hoàn thành"],["declined","Bị từ chối"]]),f=d(""),C=async n=>{f.value=n.toString(),r.value=!0},I=async()=>{if(!u.value)return;const n=u.value.findIndex(e=>e.id===f.value);console.log(f.value),await u.value.splice(n,1),r.value=!1},b=n=>{if(n==="confirmed")return"primary";if(n==="completed")return"success";if(n==="declined")return"error";if(n==="pending")return"warning"},B=n=>{const e={hour:"numeric",minute:"numeric",hour12:!0,day:"2-digit",month:"2-digit",year:"2-digit"};return new Date(n).toLocaleString("en-US",e)};return(n,e)=>{const V=Y("IconBtn");return w(),G(H,null,[t(N,{class:"pb-3"},{default:l(()=>[t(S,{class:"text-primary"},{default:l(()=>e[5]||(e[5]=[p(" Danh sách đơn hàng ")])),_:1})]),_:1}),y("div",null,[t(v,{class:"pt-0"},{default:l(()=>[t(q,{style:{direction:"ltr"}},{default:l(()=>[t(g,{cols:"12","offset-md":"0",md:"4"},{default:l(()=>[t(E,{modelValue:o(c),"onUpdate:modelValue":e[0]||(e[0]=a=>m(c)?c.value=a:null),placeholder:"Search ...","append-inner-icon":"bx-search","single-line":"","hide-details":"",dense:"",outlined:""},null,8,["modelValue"])]),_:1}),t(g,{cols:"auto",md:"2","offset-md":"2",style:{"flex-grow":"1"}},{default:l(()=>[t(D,{modelValue:o(i),"onUpdate:modelValue":e[1]||(e[1]=a=>m(i)?i.value=a:null),clearable:"","hide-details":"auto",color:"primary",label:"from"},null,8,["modelValue"])]),_:1}),t(g,{cols:"7",md:"2",style:{"flex-grow":"1"}},{default:l(()=>[t(D,{modelValue:o(s),"onUpdate:modelValue":e[2]||(e[2]=a=>m(s)?s.value=a:null),clearable:"","hide-details":"auto",color:"primary",label:"to"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(P,{headers:_,items:o(T)||[],search:o(c),"items-per-page":5,class:"text-no-wrap"},{"item.createdDate":l(({item:a})=>[y("p",j,h(B(a.createdDate)),1)]),"item.status":l(({item:a})=>[t(F,{color:b(a.status),size:"small",class:"font-weight-medium"},{default:l(()=>[p(h(o(k).get(a.status)),1)]),_:2},1032,["color"])]),"item.delete":l(({item:a})=>[a.status==="pending"?(w(),M(V,{key:0,onClick:J=>C(a.id)},{default:l(()=>[t(R,{icon:"bx-trash"})]),_:2},1032,["onClick"])):O("",!0)]),_:1},8,["items","search"])]),t(U,{modelValue:o(r),"onUpdate:modelValue":e[4]||(e[4]=a=>m(r)?r.value=a:null),"max-width":"500px"},{default:l(()=>[t($,{title:"Bạn có muốn hủy đơn hàng này không?"},{default:l(()=>[t(v,null,{default:l(()=>[y("div",z,[t(x,{variant:"outlined",color:"secondary",onClick:e[3]||(e[3]=()=>r.value=!1)},{default:l(()=>e[6]||(e[6]=[p(" Bỏ qua ")])),_:1}),t(x,{color:"error",variant:"outlined",onClick:I},{default:l(()=>e[7]||(e[7]=[p(" Xác nhận hủy ")])),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});export{ce as default};
